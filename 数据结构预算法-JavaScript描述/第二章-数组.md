# 第二章 数组

JavaScript中数组是**特殊的对象**,所以在效率上不如其他的语言中的数组高. 

JavaScript数组中索引在内部被转化为字符串类型,这是因为JavaScript中对象中的属性名字必须是字符串.

***

数组中的元素不必是同一种数据类型

推荐使用[]来创建数组

***

JavaScript中的数组也是对象的,数组的长度可以任意的正常,超出其创建时的指定长度

### 字符串生成数组

- split()方法,该方法可以通过一些常见的分隔符.比如分割单词的空格,并将每部分作为一个元素保存于一个新建的数组中.

### 对数组整体性的操作

- print()函数(用的较少,使用时,会自动调用toString()函数,转化为字符串输出!)

***

## 存取函数

JavaScript中提供了一组用来访问数组元素的函数,叫做存取函数

### 查找元素

- indexOf()函数:如果目标存在,就返回该元素在数组中的索引;如果不存在,返回-1(从前向后查找第一个符合要求的)
- lastIndexOf()从后向前查找,其余与indexOf()相同

### 数组的字符串表示

- join()和toString():将数组转化为字符串.(这两个都返回一个包含数组所有元素的字符串,各元素之间用都好分开)

### 由已有的数组创建新的数组

- concat()和splice()方法允许通过已有的数组创建新数组.
- concat()方法可以合并多个数组创建一个新数组
- splice()方法截取一个数组的子集创建一个新数组
- splice()方法还可以为一个数组**增加或者移除元素**

***

## 可变函数

JavaScript不必引用数组中某个元素,就能改变数组的内容

### 为数组添加元素

- push()和unshift()
- push()方法会降一个元素添加到数组末尾
- unshift()方法将元素添加到数组开头

### 从数组中删除元素

- pop()方法:删除数组末尾的元素
- shift()方法:删除数组第一个元素
- pop()和shift()方法都将删掉的元素作为返回值返回

### 从数组中间位置添加和删除元素

- **splice()方法**:
  - 起始索引(也就是你希望开始添加的地方)
  - 需要删除的元素个数(添加元素是该参数设为0)
  - 想要添加进数组的元素

### 为数组排序

- reverse()方法:翻转数组
- sort()方法:在元素全是字符串类型的时候很好使(sort()方法是按照字典顺序对元素进行排序的,因此它假定元素都是字符串类型)

***

## 迭代器方法

### 不生成新数组的迭代器方法

- forEach():该方法接受一个函数作为参数,对数组中的每个元素使用该函数
- every():该方法接受一个返回值为布尔类型的函数,对数组中的每个元素使用该元素
- some():该方法也接受一个返回值为布尔值的函数,只要有一个元素使得该函数返回true,该方法就返回true
- reduce()方法接受一个函数,返回一个值.该方法从一个累加值开始,不断对累加之和数组中的后续元素调用该函数,知道数组中的最后一个元素,最后返回得到累加值.

### 生成新数组的迭代方法

- map()和forEach()类似,对数组中的每个元素使用某个函数.两者的区别是map()返回一个新的数组,该数组的元素是对原有元素应用某个函数得到的结果.
- filter()和every()方法类似,传一个返回值为布尔类型的函数.不同的是:党对数组中的所有元素应用该函数,结果均为true时,该方法并不返回true,而是返回一个新数组,该新数组包含应用该函数后结果为true的元素.

***

## 二维和多维数组

JavaScript只支持一维数组,但是可以通过在数组里保存数组元素的方式创建多维数组.

毕竟数组是特殊的对象.

### 创建二位数组

- 二维数组类似一种由行和列构成的数据表格
- 先创建一个数组,然后让数组的每个元素也是一个数组.

### 处理二维数组的元素

- 处理二维数组中的元素:**按行访问和按列访问**(改变循环机构,内外层循环切换)

### 参差不齐的数组

- 很多编程语言处理参差不齐的数组时表现不好,但是JavaScript却表现良好,毕竟length可变

### 对象数组

- 数组可以包含对象,方法和属性对对象元素依然适用

### 对象中的数组

```javascript
function weekTemps(){
  this.dataStore=[]
  this.add=add
  this.average=average
}
function add(temp){
  this.dataStore.push(temp)
}
function average(){
  var total=0
  for(var i=0;i<this.dataStore.length;++i){
    total+=this.dataStore[i]
  }
  return total/this.dataStore.length
}
var thisWeek=new weekTemps()
thisWeek.add(52)
thisWeek.add(55)
thisWeek.add(61)
thisWeek.add(65)
thisWeek.add(55)
thisWeek.add(50)
thisWeek.add(52)
thisWeek.add(49)
print(thisWeek.average())//显示54.875
```

